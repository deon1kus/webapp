<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–¥–º–∏–Ω–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5;
        }
        .container { 
            max-width: 1000px; 
            margin: 0 auto; 
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .section { 
            margin-bottom: 30px; 
            padding: 20px; 
            border: 1px solid #ddd; 
            border-radius: 8px; 
        }
        button { 
            padding: 10px 15px; 
            margin: 5px; 
            cursor: pointer; 
            background: #2481cc;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover {
            background: #1a6fb3;
        }
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 15px;
        }
        th, td { 
            border: 1px solid #ddd; 
            padding: 12px; 
            text-align: left; 
        }
        th {
            background: #f8f9fa;
        }
        .form-group {
            margin-bottom: 15px;
        }
        input, textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ†Ô∏è –ê–¥–º–∏–Ω–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞</h1>
        
        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏ -->
        <div class="section">
            <h2>üì¶ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏</h2>
            <button onclick="showAddProductForm()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
            
            <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ -->
            <div id="addProductForm" style="display: none; margin-top: 20px;">
                <div class="form-group">
                    <input type="text" id="productName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
                </div>
                <div class="form-group">
                    <input type="number" id="productPrice" placeholder="–¶–µ–Ω–∞">
                </div>
                <div class="form-group">
                    <input type="text" id="productCategory" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è">
                </div>
                <div class="form-group">
                    <textarea id="productDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>
                </div>
                <div class="form-group">
                    <input type="text" id="productImage" placeholder="URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" value="https://via.placeholder.com/150">
                </div>
                <button onclick="addProduct()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                <button onclick="hideAddProductForm()">–û—Ç–º–µ–Ω–∞</button>
            </div>
            
            <!-- –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div id="productsList">
                <p>–¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...</p>
            </div>
        </div>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="section">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <p><strong>–ó–∞–∫–∞–∑–æ–≤ —Å–µ–≥–æ–¥–Ω—è:</strong> <span id="todayOrders">0</span></p>
            <p><strong>–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤:</strong> <span id="totalProducts">0</span></p>
            <p><strong>–û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞:</strong> <span id="totalRevenue">0</span> —Ä—É–±.</p>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ -->
        <div class="section">
            <h2>üìã –ó–∞–∫–∞–∑—ã</h2>
            <div id="ordersList">
                <p>–ó–∞–∫–∞–∑—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è...</p>
            </div>
        </div>
    </div>

    <script>
        // –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
        let products = JSON.parse(localStorage.getItem('admin-products')) || [];
        let orders = JSON.parse(localStorage.getItem('admin-orders')) || [];

        function showAddProductForm() {
            document.getElementById('addProductForm').style.display = 'block';
        }

        function hideAddProductForm() {
            document.getElementById('addProductForm').style.display = 'none';
        }

        function addProduct() {
            const name = document.getElementById('productName').value;
            const price = parseInt(document.getElementById('productPrice').value);
            const category = document.getElementById('productCategory').value;
            const description = document.getElementById('productDescription').value;
            const image = document.getElementById('productImage').value;

            if (!name || !price) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω—É');
                return;
            }

            const newProduct = {
                id: Date.now(),
                name,
                price,
                category,
                description,
                image
            };

            products.push(newProduct);
            localStorage.setItem('admin-products', JSON.stringify(products));
            
            hideAddProductForm();
            renderProducts();
            updateStats();
            alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω!');
        }

        function renderProducts() {
            const container = document.getElementById('productsList');
            container.innerHTML = products.length === 0 
                ? '<p>–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</p>'
                : `
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–¶–µ–Ω–∞</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${products.map(product => `
                                <tr>
                                    <td>${product.id}</td>
                                    <td>${product.name}</td>
                                    <td>${product.price} —Ä—É–±.</td>
                                    <td>${product.category}</td>
                                    <td>
                                        <button onclick="deleteProduct(${product.id})">–£–¥–∞–ª–∏—Ç—å</button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
        }

        function deleteProduct(id) {
            if (confirm('–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä?')) {
                products = products.filter(p => p.id !== id);
                localStorage.setItem('admin-products', JSON.stringify(products));
                renderProducts();
                updateStats();
            }
        }

        function updateStats() {
            document.getElementById('totalProducts').textContent = products.length;
            document.getElementById('totalRevenue').textContent = orders.reduce((sum, order) => sum + order.total, 0);
        }

        function renderOrders() {
            const container = document.getElementById('ordersList');
            container.innerHTML = orders.length === 0
                ? '<p>–ù–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>'
                : `
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–¢–æ–≤–∞—Ä—ã</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${orders.map(order => `
                                <tr>
                                    <td>${order.id}</td>
                                    <td>${order.items.map(item => item.name).join(', ')}</td>
                                    <td>${order.total} —Ä—É–±.</td>
                                    <td>${order.status || '–ù–æ–≤—ã–π'}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                `;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            renderOrders();
            updateStats();
        });
    </script>
</body>
</html>
